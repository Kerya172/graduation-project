<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/style/cloud.css">
  <link rel="stylesheet" href="/style/light%20theme.css">
  <script src="/js/profile-sync.js" defer></script>
  <script src="/js/cloud.js" defer></script>
  <script src="/backend/folders_client.js" defer></script>
  <script src="/backend/shared_folders.js" defer></script>
  <title>–§–∞–π–ª–æ–≤–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä</title>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet">
</head>

<body>

<button class="theme-toggle" onclick="toggleTheme()">üåô</button>

<aside class="sidebar collapsed" id="sidebar">
  <div class="sidebar-header">
    U Cloud
    <button class="toggle-btn" onclick="toggleSidebar()">‚ò∞</button>
  </div>

  <div class="sidebar-nav">
    <div class="nav-item" id="my-folders-btn">
      <span class="material-symbols-rounded nav-icon">folder</span>
      <span class="nav-label">–ú–æ—ó –ø–∞–∫–∏</span>
    </div>
    <div class="nav-item" id="my-files-btn">
      <span class="material-symbols-rounded nav-icon">insert_drive_file</span>
      <span class="nav-label">–ú–æ—ó —Ñ–∞–π–ª–∏</span>
    </div>
    <div class="nav-item" id="upload-btn">
      <span class="material-symbols-rounded nav-icon">upload</span>
      <span class="nav-label">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</span>
    </div>
    <div class="nav-item">
      <a href="setting.html" target="_blank" class="nav-link">
        <span class="material-symbols-rounded nav-icon">settings</span>
        <span class="nav-label">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</span>
      </a>
    </div>
    <div class="nav-item">
      <a href="../html/index.html" class="nav-link">
        <span class="material-symbols-rounded nav-icon">logout</span>
        <span class="nav-label">–í–∏—Ö—ñ–¥</span>
      </a>
    </div>
  </div>
</aside>



<main class="main-container">
  <!-- –ë–ª–æ–∫ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
  <div class="profile-container">
    <label for="avatar-upload">
      <img src="https://placekitten.com/200/200" alt="Avatar" class="avatar" id="avatar" title="–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ç–æ">
    </label>
    <input type="file" id="avatar-upload" accept="image/*" style="display: none;">

    <h1 id="username">‚Äî</h1>

  </div>



  <button class="button-invite" onclick="show('block')">–ó–∞–ø—Ä–æ—Å–∏—Ç–∏ —É—á–∞—Å–Ω–∏–∫–∞ +</button>

  <div id="filter" onclick="show('none')"></div>

  <div id="modalForm">
    <form id="inviteForm" onsubmit="handleInvite(event)">
      <h2>–ó–∞–ø—Ä–æ—Å—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –¥–æ —Å–≤–æ—î—ó —Ä–æ–±–æ—á–æ—ó –≥—Ä—É–ø–∏</h2>
      <p>–í–æ–Ω–∏ –æ—Ç—Ä–∏–º–∞—é—Ç—å –¥–æ—Å—Ç—É–ø –¥–æ –ø–∞–ø–æ–∫, —è–∫–∏–º–∏ –≤–∏ –ø–æ–¥—ñ–ª–∏—Ç–µ—Å—å. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –º–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–∞—Ä–∞–∑ –∞–±–æ –ø—ñ–∑–Ω—ñ—à–µ.</p>

      <div class="group">
        <label for="email">Email</label>
        <input type="email" placeholder="–î–æ–¥–∞–π—Ç–µ email –∞–¥—Ä–µ—Å—É" id="email" required>
      </div>

      <div class="group">
        <label for="comment">–ö–æ–º–µ–Ω—Ç–∞—Ä</label>
        <input type="text" placeholder="–î–æ–¥–∞–π—Ç–µ –∫–æ–º–µ–Ω—Ç–∞—Ä" id="comment" required>
      </div>

      <div id="inviteFolderList"></div>

      <div class="group buttons">
        <button class="ok-btn" type="submit">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è</button>
        <button type="button" class="cancel-btn" onclick="show('none')">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
      </div>
    </form>
  </div>

  <!-- Folder Modal -->
  <div id="folderModal" style="display: none;">
    <div id="folderModalContent">
      <button class="btn-close" onclick="closeFolderModal()">√ó</button>
      <h2 id="modalFolderTitle"></h2>
      <div id="modalFolderBody">
        <!-- –§–æ—Ä–º–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ -->
        <form id="uploadFileForm" enctype="multipart/form-data">
          <input type="file" id="fileInput" name="file" />
          <button type="button" onclick="uploadFileToFolder(folderId)">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</button>
        </form>
        <div id="fileList">–°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å...</div>
      </div>
    </div>
  </div>


  <div class="controls">

    <button class="button-file" onclick="addFolder()">–î–æ–¥–∞—Ç–∏ –ø–∞–ø–∫—É</button>
    <label class="upload-btn">
      –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª
      <input type="file" id="file-input" onchange="addRealFile(this)" hidden>
    </label>
    <label>
      <button class="upload-btn" onclick="createSharedFolder()">–°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–ø—ñ–ª—å–Ω—É –ø–∞–ø–∫—É</button>
      <div id="shared-folder-container"></div>
    </label>
    <div class="dropdown">
      <button onclick="toggleDropdown()" class="dropbtn">–°—Ç–≤–æ—Ä–∏—Ç–∏ ‚ñæ</button>
      <div id="dropdownMenu" class="dropdown-content">
        <button id="createFolderBtn" onclick="addFolder()">–ü–∞–ø–∫–∞</button>
        <a href="https://word.cloud.microsoft/open/onedrive/?docId=..." target="_blank">–î–æ–∫—É–º–µ–Ω—Ç</a>
        <a href="https://excel.cloud.microsoft/open/onedrive/?docId=..." target="_blank">–¢–∞–±–ª–∏—Ü—è</a>
        <a href="https://powerpoint.cloud.microsoft/open/onedrive/?docId=..." target="_blank">–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—è</a>
      </div>
    </div>
  </div>


  <!-- –ó–∞–º–µ–Ω–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É –Ω–∞ —ç—Ç—É -->
  <div id="drop-area">–ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å —Å—é–¥–∏ —Ñ–∞–π–ª–∏</div>
  <h2>–í–∞—à—ñ —Ñ–∞–π–ª–∏</h2>
  <header>
    <div class="sort-options">
      <span class="material-symbols-rounded sort-icon" data-sort="name" onclick="sortFiles('name', this)">sort_by_alpha</span>
      <span class="material-symbols-rounded sort-icon" data-sort="date" onclick="sortFiles('date', this)">date_range</span>
      <span class="material-symbols-rounded sort-icon" data-sort="size" onclick="sortFiles('size', this)">storage</span>
    </div>
  </header>
  <table class="file-table">
    <thead>
    <tr>
      <th>–ù–∞–∑–≤–∞</th>
      <th>‚≠ê</th>
      <th>–£ –∫–æ–≥–æ —î –¥–æ—Å—Ç—É–ø</th>
      <th>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ</th>
      <th>–í–∏–¥–∞–ª–∏—Ç–∏</th>
    </tr>
    </thead>
    <tbody id="all-files-table">
    <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—Ç—Ä–æ–∫–∏ —Å —Ñ–∞–π–ª–∞–º–∏ -->
    </tbody>
  </table>

  <div class="file-viewer" style="margin-top: 20px; color: white;"></div>

  <section id="foldersPanel" class="folder-section">
    <h3>–ú–æ—ó –ø–∞–ø–∫–∏</h3>
    <div id="folderList" class="folder-container">
      <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ –ø–∞–ø–∫–∏ -->
    </div>
  </section>

  <section id="shared-folders-section" class="folder-section">
    <h3>–°–ø—ñ–ª—å–Ω—ñ –ø–∞–ø–∫–∏</h3>
    <div id="sharedFolderList" class="folder-container">
      <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ –æ–±—â–∏–µ –ø–∞–ø–∫–∏ -->
    </div>
  </section>

</main>

</body>
</html>